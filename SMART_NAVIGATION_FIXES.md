# スマートナビゲーション修正内容

## 修正概要

Tab/Shift+Tab キーナビゲーションの問題を修正しました：

### 1. Y_specフィールドがスキップされる問題の修正

**問題**: Y_specフィールドはmain_field_orderに含まれているが、動的に作成されるため初期のスマートナビゲーション設定で処理されない

**解決策**:
- `_setup_yspec_navigation()` メソッドを追加
- Y_specエディタ作成後に自動的にナビゲーション設定を適用
- 各Y_specエディタにTab/Enter/Shift+Tabキーハンドリングを追加

### 2. SKU固定列からスクロール列に移動できない問題の修正

**問題**: 固定テーブルから移動時のロジックに不備

**解決策**:
- デバッグ出力を追加して移動プロセスを追跡
- スクロール可能テーブルの列状態チェック機能を強化
- より詳細なエラー情報を提供

## 修正されたファイル

- `product_app.py`
  - `_setup_smart_navigation()`: Y_specナビゲーション設定を追加
  - `_setup_yspec_navigation()`: 新規メソッド追加
  - `_handle_enter_navigation()`: Y_spec処理のデバッグ強化
  - `_handle_sku_enter_navigation()`: SKU移動のデバッグ強化
  - Y_specエディタ作成後の自動ナビゲーション設定

## テスト手順

1. アプリケーションを起動
2. カテゴリを選択してY_specフィールドを表示
3. メインフィールドからTabキーでY_specフィールドに移動できることを確認
4. SKUテーブルで固定列からTabキーでスクロール列に移動できることを確認

## デバッグ出力

以下のデバッグメッセージで動作を確認：
- "DEBUG: Y_specナビゲーション設定開始"
- "DEBUG: Y_spec処理 - spec_index=X, editors長さ=Y"
- "DEBUG: 固定列→スクロール列移動"

## 期待される結果

- Tabキーでメインフィールド → Y_specフィールド → SKUテーブルの順でスムーズに移動
- Shift+Tabキーで逆方向に移動
- SKU固定列からスクロール列への移動が正常に動作
- ボタンやコントロール要素がTabナビゲーションから除外される